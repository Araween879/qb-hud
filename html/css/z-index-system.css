/* ================================
   üé® ENHANCED HUD - Z-INDEX SYSTEM
   ================================
   
   UI Layer Management & Stacking
   Version: 3.1.0
   
   Comprehensive z-index hierarchy
   preventing UI conflicts and overlaps
   ================================ */

/* ================================
   üìã Z-INDEX HIERARCHY MAP
   ================================
   
   üèóÔ∏è LAYER STRUCTURE:
   ‚îú‚îÄ‚îÄ -1     Background Effects
   ‚îú‚îÄ‚îÄ 0      Base Content
   ‚îú‚îÄ‚îÄ 100    HUD Elements
   ‚îú‚îÄ‚îÄ 200    Menu System
   ‚îú‚îÄ‚îÄ 300    Overlays
   ‚îú‚îÄ‚îÄ 400    Modals/Dialogs
   ‚îú‚îÄ‚îÄ 500    Tooltips
   ‚îú‚îÄ‚îÄ 600    GPS HUD
   ‚îú‚îÄ‚îÄ 700    Vehicle HUD
   ‚îú‚îÄ‚îÄ 800    Compass
   ‚îú‚îÄ‚îÄ 900    Critical Alerts
   ‚îî‚îÄ‚îÄ 999    Debug Panel
   ================================ */

:root {
    /* Base Layer Definitions */
    --z-background: -1;
    --z-base: 0;
    --z-content: 10;
    
    /* HUD System Layers */
    --z-hud-base: 100;
    --z-hud-items: 110;
    --z-hud-critical: 120;
    
    /* Menu System Layers */
    --z-menu-base: 200;
    --z-menu-panels: 210;
    --z-menu-content: 220;
    --z-menu-tabs: 230;
    
    /* Overlay System Layers */
    --z-overlay-base: 300;
    --z-overlay-backdrop: 310;
    --z-overlay-content: 320;
    
    /* Modal System Layers */
    --z-modal-base: 400;
    --z-modal-backdrop: 410;
    --z-modal-content: 420;
    --z-modal-header: 430;
    
    /* Utility Layers */
    --z-tooltip-base: 500;
    --z-tooltip-content: 510;
    
    /* Specific Component Layers */
    --z-gps-hud: 600;
    --z-vehicle-hud: 700;
    --z-compass: 800;
    --z-critical-alerts: 900;
    --z-debug-panel: 999;
}

/* ================================
   üéÆ HUD SYSTEM Z-INDEX
   ================================ */

/* Main HUD Container */
.hud-container {
    z-index: var(--z-hud-base) !important;
    position: relative;
}

/* Player HUD Elements */
#playerhud {
    z-index: var(--z-hud-items) !important;
    position: relative;
}

#playerhud .hud-item {
    z-index: var(--z-hud-items) !important;
    position: relative;
}

/* Critical State Items (Higher Priority) */
.hud-item.critical {
    z-index: var(--z-hud-critical) !important;
    position: relative;
}

.critical-state {
    z-index: var(--z-critical-alerts) !important;
    position: relative;
}

/* HUD Item Components */
.stat-icon {
    z-index: calc(var(--z-hud-items) + 1) !important;
    position: relative;
}

.stat-bar {
    z-index: var(--z-hud-items) !important;
    position: relative;
}

.stat-progress::after {
    z-index: calc(var(--z-hud-items) + 1) !important;
    position: absolute;
}

/* ================================
   üöó VEHICLE HUD Z-INDEX
   ================================ */

.vehicle-hud {
    z-index: var(--z-vehicle-hud) !important;
    position: relative;
}

/* Vehicle Elements */
.square,
.circle {
    z-index: var(--z-vehicle-hud) !important;
    position: relative;
}

.border {
    z-index: calc(var(--z-vehicle-hud) + 1) !important;
    position: relative;
}

speed,
altitude {
    z-index: calc(var(--z-vehicle-hud) + 2) !important;
    position: relative;
}

/* ================================
   üß≠ COMPASS SYSTEM Z-INDEX
   ================================ */

.compass-container {
    z-index: var(--z-compass) !important;
    position: relative;
}

.baseplate {
    z-index: var(--z-compass) !important;
    position: relative;
}

.street-container {
    z-index: calc(var(--z-compass) + 1) !important;
    position: relative;
}

.street1,
.street2 {
    z-index: calc(var(--z-compass) + 2) !important;
    position: relative;
}

.pointer {
    z-index: calc(var(--z-compass) + 3) !important;
    position: relative;
}

.degrees {
    z-index: calc(var(--z-compass) + 2) !important;
    position: relative;
}

.bezel {
    z-index: calc(var(--z-compass) + 1) !important;
    position: relative;
}

.bearing {
    z-index: calc(var(--z-compass) + 1) !important;
    position: relative;
}

/* ================================
   üìç GPS HUD Z-INDEX
   ================================ */

#gps-hud-container {
    z-index: var(--z-gps-hud) !important;
    position: fixed;
}

.gps-panel {
    z-index: calc(var(--z-gps-hud) + 1) !important;
    position: relative;
}

.gps-location-info {
    z-index: calc(var(--z-gps-hud) + 2) !important;
    position: relative;
}

.gps-status-icons {
    z-index: calc(var(--z-gps-hud) + 3) !important;
    position: relative;
}

/* ================================
   üì± MENU SYSTEM Z-INDEX
   ================================ */

/* Main Menu Container */
#openmenu {
    z-index: var(--z-menu-base) !important;
    position: fixed;
}

/* Menu Scan Line Effect */
#openmenu::before {
    z-index: calc(var(--z-menu-base) + 5) !important;
    position: absolute;
}

/* Quasar Components in Menu */
.q-splitter {
    z-index: var(--z-menu-panels) !important;
    position: relative;
}

.q-splitter__panel {
    z-index: var(--z-menu-panels) !important;
    position: relative;
}

.q-tabs {
    z-index: var(--z-menu-tabs) !important;
    position: relative;
}

.q-tab-panels {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

.q-tab-panel {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

/* Menu Content Elements */
.menu-content {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

.settings-section {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

/* ================================
   üéõÔ∏è FORM ELEMENTS Z-INDEX
   ================================ */

/* Buttons */
.btn,
.q-btn {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

.btn:hover,
.q-btn:hover {
    z-index: calc(var(--z-menu-content) + 2) !important;
}

/* Checkboxes & Toggles */
.q-checkbox,
.q-toggle {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

/* Sliders */
.q-slider {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

.q-slider__thumb {
    z-index: calc(var(--z-menu-content) + 2) !important;
    position: relative;
}

/* Input Fields */
.q-field {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

.q-field--focused {
    z-index: calc(var(--z-menu-content) + 2) !important;
}

/* ================================
   üìã LIST & CARD Z-INDEX
   ================================ */

.q-list {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

.q-item {
    z-index: var(--z-menu-content) !important;
    position: relative;
}

.q-item:hover {
    z-index: calc(var(--z-menu-content) + 1) !important;
}

.q-card {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

.q-card:hover {
    z-index: calc(var(--z-menu-content) + 2) !important;
}

/* ================================
   üé≠ MODAL & DIALOG Z-INDEX
   ================================ */

.q-dialog {
    z-index: var(--z-modal-base) !important;
}

.q-dialog__backdrop {
    z-index: var(--z-modal-backdrop) !important;
    position: fixed;
}

.q-dialog__inner {
    z-index: var(--z-modal-content) !important;
    position: relative;
}

.q-card.q-dialog-plugin {
    z-index: var(--z-modal-content) !important;
    position: relative;
}

/* Custom Modal Components */
.modal-container {
    z-index: var(--z-modal-base) !important;
    position: fixed;
}

.modal-backdrop {
    z-index: var(--z-modal-backdrop) !important;
    position: fixed;
}

.modal-content {
    z-index: var(--z-modal-content) !important;
    position: relative;
}

.modal-header {
    z-index: var(--z-modal-header) !important;
    position: relative;
}

/* ================================
   üí° TOOLTIP SYSTEM Z-INDEX
   ================================ */

.q-tooltip {
    z-index: var(--z-tooltip-content) !important;
}

.tooltip-container {
    z-index: var(--z-tooltip-base) !important;
    position: relative;
}

.tooltip-content {
    z-index: var(--z-tooltip-content) !important;
    position: absolute;
}

/* Custom Tooltips */
.neon-tooltip {
    z-index: var(--z-tooltip-content) !important;
    position: absolute;
}

/* ================================
   üé® THEME PREVIEW Z-INDEX
   ================================ */

.theme-preview-card {
    z-index: calc(var(--z-menu-content) + 1) !important;
    position: relative;
}

.theme-preview-card:hover {
    z-index: calc(var(--z-menu-content) + 2) !important;
}

.theme-preview-overlay {
    z-index: calc(var(--z-menu-content) + 2) !important;
    position: absolute;
}

/* ================================
   üêõ DEBUG SYSTEM Z-INDEX
   ================================ */

.debug-overlay {
    z-index: var(--z-debug-panel) !important;
    position: fixed;
}

.debug-header {
    z-index: calc(var(--z-debug-panel) + 1) !important;
    position: relative;
}

.debug-content {
    z-index: var(--z-debug-panel) !important;
    position: relative;
}

/* Debug Controls */
.debug-controls {
    z-index: calc(var(--z-debug-panel) + 2) !important;
    position: relative;
}

/* ================================
   ‚ö° OVERLAY SYSTEM Z-INDEX
   ================================ */

.overlay-container {
    z-index: var(--z-overlay-base) !important;
    position: fixed;
}

.overlay-backdrop {
    z-index: var(--z-overlay-backdrop) !important;
    position: fixed;
}

.overlay-content {
    z-index: var(--z-overlay-content) !important;
    position: relative;
}

/* Loading Overlays */
.loading-overlay {
    z-index: calc(var(--z-overlay-base) + 10) !important;
    position: fixed;
}

.loading-content {
    z-index: calc(var(--z-overlay-content) + 1) !important;
    position: relative;
}

/* ================================
   üé™ ANIMATION EFFECTS Z-INDEX
   ================================ */

/* Particle Effects */
.particle-effect {
    z-index: calc(var(--z-background) + 1) !important;
    position: absolute;
}

.particle-effect::before,
.particle-effect::after {
    z-index: calc(var(--z-background) + 1) !important;
    position: absolute;
}

/* Glow Effects */
.glow-effect {
    z-index: calc(var(--z-hud-items) - 1) !important;
    position: absolute;
}

/* Scan Line Effects */
.scan-line {
    z-index: calc(var(--z-menu-base) + 10) !important;
    position: absolute;
}

/* Background Grid/Matrix Effects */
.theme-cyberpunk::before,
.theme-synthwave::before,
.theme-matrix::after {
    z-index: var(--z-background) !important;
    position: fixed;
}

/* ================================
   üîä SOUND VISUALIZATION Z-INDEX
   ================================ */

.sound-visualizer {
    z-index: calc(var(--z-hud-items) + 1) !important;
    position: absolute;
}

.audio-waveform {
    z-index: calc(var(--z-hud-items) + 2) !important;
    position: relative;
}

/* ================================
   üõ†Ô∏è UTILITY CLASSES
   ================================ */

/* Force Layer Utilities */
.z-force-top {
    z-index: 9999 !important;
    position: relative;
}

.z-force-bottom {
    z-index: -999 !important;
    position: relative;
}

.z-above-hud {
    z-index: calc(var(--z-hud-base) + 50) !important;
    position: relative;
}

.z-below-hud {
    z-index: calc(var(--z-hud-base) - 10) !important;
    position: relative;
}

.z-above-menu {
    z-index: calc(var(--z-menu-base) + 50) !important;
    position: relative;
}

.z-below-menu {
    z-index: calc(var(--z-menu-base) - 10) !important;
    position: relative;
}

/* Layer Reset Utilities */
.z-reset {
    z-index: var(--z-base) !important;
}

.z-auto {
    z-index: auto !important;
}

/* ================================
   üì± RESPONSIVE Z-INDEX ADJUSTMENTS
   ================================ */

@media (max-width: 768px) {
    /* Adjust menu z-index for mobile */
    #openmenu {
        z-index: calc(var(--z-menu-base) + 100) !important;
    }
    
    /* Ensure debug panel is accessible on mobile */
    .debug-overlay {
        z-index: calc(var(--z-debug-panel) + 100) !important;
    }
    
    /* GPS HUD priority on mobile */
    #gps-hud-container {
        z-index: calc(var(--z-gps-hud) + 50) !important;
    }
}

@media (max-width: 480px) {
    /* Compact mode z-index adjustments */
    .hud-item {
        z-index: calc(var(--z-hud-items) + 10) !important;
    }
    
    .compass-container {
        z-index: calc(var(--z-compass) + 10) !important;
    }
}

/* ================================
   üéØ CONFLICT RESOLUTION
   ================================ */

/* Ensure no conflicts with external resources */
.external-ui {
    z-index: 50 !important;
}

.qb-core-ui {
    z-index: 60 !important;
}

.notification-system {
    z-index: 350 !important;
}

/* Emergency override for broken z-index */
.z-emergency-fix {
    z-index: 99999 !important;
    position: fixed !important;
}

/* ================================
   üîß DEVELOPER UTILITIES
   ================================ */

/* Debug z-index visualization */
.debug-z-index * {
    outline: 1px solid rgba(255, 0, 0, 0.3) !important;
    position: relative !important;
}

.debug-z-index *::before {
    content: attr(class) ' (z:' attr(style) ')' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    font-size: 10px !important;
    background: rgba(255, 0, 0, 0.8) !important;
    color: white !important;
    padding: 2px !important;
    z-index: 99999 !important;
}

/* ================================
   üìä Z-INDEX LAYER DOCUMENTATION
   ================================ */

/*
Z-INDEX LAYER MAP:

Background Effects     (-1)
‚îú‚îÄ‚îÄ Particle Effects
‚îú‚îÄ‚îÄ Theme Grid/Matrix
‚îî‚îÄ‚îÄ Glow Background

Base Content          (0-99)
‚îú‚îÄ‚îÄ Default Elements
‚îú‚îÄ‚îÄ External UIs
‚îî‚îÄ‚îÄ Static Content

HUD System           (100-199)
‚îú‚îÄ‚îÄ Main Container   (100)
‚îú‚îÄ‚îÄ HUD Items        (110)
‚îú‚îÄ‚îÄ Critical States  (120)
‚îî‚îÄ‚îÄ Status Effects   (130)

Menu System          (200-299)
‚îú‚îÄ‚îÄ Menu Base        (200)
‚îú‚îÄ‚îÄ Menu Panels      (210)
‚îú‚îÄ‚îÄ Menu Content     (220)
‚îú‚îÄ‚îÄ Menu Tabs        (230)
‚îî‚îÄ‚îÄ Menu Effects     (240)

Overlays             (300-399)
‚îú‚îÄ‚îÄ Overlay Base     (300)
‚îú‚îÄ‚îÄ Overlay Backdrop (310)
‚îú‚îÄ‚îÄ Overlay Content  (320)
‚îî‚îÄ‚îÄ Loading Overlays (330)

Modals & Dialogs     (400-499)
‚îú‚îÄ‚îÄ Modal Base       (400)
‚îú‚îÄ‚îÄ Modal Backdrop   (410)
‚îú‚îÄ‚îÄ Modal Content    (420)
‚îú‚îÄ‚îÄ Modal Header     (430)
‚îî‚îÄ‚îÄ Modal Controls   (440)

Tooltips             (500-599)
‚îú‚îÄ‚îÄ Tooltip Base     (500)
‚îú‚îÄ‚îÄ Tooltip Content  (510)
‚îî‚îÄ‚îÄ Tooltip Effects  (520)

Special Components   (600-899)
‚îú‚îÄ‚îÄ GPS HUD          (600)
‚îú‚îÄ‚îÄ Vehicle HUD      (700)
‚îú‚îÄ‚îÄ Compass          (800)
‚îî‚îÄ‚îÄ Critical Alerts  (900)

Debug & Admin        (900-999)
‚îú‚îÄ‚îÄ Debug Panel      (999)
‚îú‚îÄ‚îÄ Admin Tools      (990)
‚îî‚îÄ‚îÄ Dev Utilities    (980)
*/